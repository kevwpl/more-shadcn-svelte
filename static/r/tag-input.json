{
	"$schema": "https://shadcn-svelte.com/schema/registry-item.json",
	"name": "tag-input",
	"title": "Tag Input",
	"type": "registry:ui",
	"description": "An input field for entering multiple values, displayed as chips.",
	"dependencies": [
		"@lucide/svelte@^0.554.0"
	],
	"devDependencies": [
		"@lucide/svelte@^0.544.0"
	],
	"files": [
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from '$UTILS$';\n\timport * as Chip from '$lib/components/ui/chip';\n\timport { X } from '@lucide/svelte';\n\n\tlet {\n\t\ttags = $bindable([]),\n\t\tplaceholder = 'Add tag...',\n\t\tdisabled = false,\n\t\tmaxTags,\n\t\tclass: className,\n\t\tchipVariant = 'secondary',\n\t\tvalidate,\n\t\tonadd,\n\t\tonremove\n\t}: {\n\t\ttags: string[];\n\t\tplaceholder?: string;\n\t\tdisabled?: boolean;\n\t\tmaxTags?: number;\n\t\tclass?: string;\n\t\tchipVariant?: 'default' | 'secondary' | 'outline' | 'ghost';\n\t\tvalidate?: (tag: string) => boolean;\n\t\tonadd?: (tag: string) => void;\n\t\tonremove?: (tag: string) => void;\n\t} = $props();\n\n\tlet inputValue = $state('');\n\tlet inputRef: HTMLInputElement | undefined = $state();\n\n\tfunction addTag(text: string) {\n\t\tconst trimmed = text.trim();\n\n\t\tif (!trimmed) return;\n\t\tif (tags.includes(trimmed)) return;\n\t\tif (maxTags && tags.length >= maxTags) return;\n\t\tif (validate && !validate(trimmed)) return;\n\n\t\ttags = [...tags, trimmed];\n\t\tinputValue = '';\n\t\tonadd?.(trimmed);\n\t}\n\n\tfunction removeTag(index: number) {\n\t\tconst removed = tags[index];\n\t\ttags = tags.filter((_, i) => i !== index);\n\t\tonremove?.(removed);\n\t}\n\n\tfunction handleKeydown(e: KeyboardEvent) {\n\t\tif (e.key === 'Enter' || e.key === ',') {\n\t\t\te.preventDefault();\n\t\t\taddTag(inputValue);\n\t\t} else if (e.key === 'Backspace' && inputValue === '' && tags.length > 0) {\n\t\t\tremoveTag(tags.length - 1);\n\t\t}\n\t}\n\n\tfunction handleContainerClick() {\n\t\tinputRef?.focus();\n\t}\n</script>\n\n<div\n\tclass={cn(\n\t\t'flex min-h-10 w-full flex-wrap items-center gap-2 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background',\n\t\t'focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2',\n\t\tdisabled && 'cursor-not-allowed opacity-50',\n\t\tclassName\n\t)}\n\tonclick={handleContainerClick}\n\trole=\"textbox\"\n\ttabindex=\"-1\"\n\tonkeydown={() => {}}\n>\n\t{#each tags as tag, i}\n\t\t<Chip.Root\n\t\t\tvariant={chipVariant}\n\t\t\tsize=\"sm\"\n\t\t\tremovable={!disabled}\n\t\t\tonremove={() => removeTag(i)}\n\t\t\t{disabled}\n\t\t\tclass=\"animate-in zoom-in-50 fade-in-0 duration-200\"\n\t\t>\n\t\t\t{tag}\n\t\t</Chip.Root>\n\t{/each}\n\n\t<input\n\t\tbind:this={inputRef}\n\t\tbind:value={inputValue}\n\t\t{disabled}\n\t\t{placeholder}\n\t\tonkeydown={handleKeydown}\n\t\tonblur={() => {}}\n\t\tclass=\"flex-1 bg-transparent outline-none placeholder:text-muted-foreground min-w-[120px]\"\n\t/>\n</div>\n",
			"type": "registry:ui",
			"target": "tag-input/tag-input.svelte"
		},
		{
			"content": "import TagInput from './tag-input.svelte';\n\nexport { TagInput };\n",
			"type": "registry:ui",
			"target": "tag-input/index.ts"
		}
	]
}