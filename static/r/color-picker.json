{
	"$schema": "https://shadcn-svelte.com/schema/registry-item.json",
	"name": "color-picker",
	"title": "Color Picker",
	"type": "registry:ui",
	"description": "A mobile-first bottom navigation bar.",
	"dependencies": [
		"@lucide/svelte@^0.554.0"
	],
	"devDependencies": [
		"@lucide/svelte@^0.544.0"
	],
	"registryDependencies": [
		"button",
		"button-group",
		"command",
		"popover",
		"input"
	],
	"files": [
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from '$UTILS$';\n\timport { Button } from '$lib/components/ui/button';\n\timport { ChevronDown } from '@lucide/svelte';\n\timport * as Popover from '$lib/components/ui/popover';\n\timport * as Command from '$lib/components/ui/command';\n\timport * as ButtonGroup from '$lib/components/ui/button-group';\n\timport { Input } from '$lib/components/ui/input';\n\n\ttype ColorFormat = 'hex' | 'rgb' | 'hsl' | 'oklch';\n\n\tlet {\n\t\tvalue = $bindable('#000000'),\n\t\tclass: className,\n\t\tallowOpacity = false,\n\t\tdefaultFormat = 'hex',\n\t\tformats = ['hex', 'rgb', 'hsl', 'oklch']\n\t}: {\n\t\tvalue?: string;\n\t\tclass?: string;\n\t\tallowOpacity?: boolean;\n\t\tdefaultFormat?: ColorFormat;\n\t\tformats?: ColorFormat[];\n\t} = $props();\n\n\tlet h = $state(0);\n\tlet s = $state(0);\n\tlet v = $state(0);\n\tlet a = $state(1);\n\tlet activeFormat = $state<ColorFormat>(defaultFormat);\n\tlet isDragging = $state(false);\n\n\tlet sbRef: HTMLDivElement | undefined = $state();\n\tlet hueRef: HTMLDivElement | undefined = $state();\n\tlet alphaRef: HTMLDivElement | undefined = $state();\n\tlet formatOpen = $state(false);\n\n\t$effect(() => {\n\t\tif (!isDragging) {\n\t\t\tconst parsed = parseColor(value);\n\t\t\tif (parsed) {\n\t\t\t\tconst currentStr = formatOutput(h, s, v, a, activeFormat);\n\t\t\t\tconst parsedStr = formatOutput(parsed.h, parsed.s, parsed.v, parsed.a, activeFormat);\n\n\t\t\t\tif (currentStr !== parsedStr) {\n\t\t\t\t\th = parsed.h;\n\t\t\t\t\ts = parsed.s;\n\t\t\t\t\tv = parsed.v;\n\t\t\t\t\ta = parsed.a;\n\t\t\t\t\tif (value.startsWith('rgb')) activeFormat = 'rgb';\n\t\t\t\t\telse if (value.startsWith('hsl')) activeFormat = 'hsl';\n\t\t\t\t\telse if (value.startsWith('oklch')) activeFormat = 'oklch';\n\t\t\t\t\telse activeFormat = 'hex';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction updateExternal() {\n\t\tvalue = formatOutput(h, s, v, a, activeFormat);\n\t}\n\n\tfunction setFormat(fmt: ColorFormat) {\n\t\tactiveFormat = fmt;\n\t\tupdateExternal();\n\t\tformatOpen = false;\n\t}\n\n\tfunction parseColor(str: string) {\n\t\tstr = str.trim().toLowerCase();\n\t\tif (str.startsWith('#')) {\n\t\t\tlet hex = str.replace('#', '');\n\t\t\tlet r = 0,\n\t\t\t\tg = 0,\n\t\t\t\tb = 0,\n\t\t\t\talpha = 1;\n\t\t\tif (hex.length === 3) {\n\t\t\t\tr = parseInt(hex[0] + hex[0], 16);\n\t\t\t\tg = parseInt(hex[1] + hex[1], 16);\n\t\t\t\tb = parseInt(hex[2] + hex[2], 16);\n\t\t\t} else if (hex.length === 6) {\n\t\t\t\tr = parseInt(hex.substring(0, 2), 16);\n\t\t\t\tg = parseInt(hex.substring(2, 4), 16);\n\t\t\t\tb = parseInt(hex.substring(4, 6), 16);\n\t\t\t} else if (hex.length === 8) {\n\t\t\t\tr = parseInt(hex.substring(0, 2), 16);\n\t\t\t\tg = parseInt(hex.substring(2, 4), 16);\n\t\t\t\tb = parseInt(hex.substring(4, 6), 16);\n\t\t\t\talpha = parseInt(hex.substring(6, 8), 16) / 255;\n\t\t\t}\n\t\t\treturn { ...rgbToHsv(r, g, b), a: alpha };\n\t\t}\n\t\tif (str.startsWith('rgb')) {\n\t\t\tconst values = str.match(/[\\d.]+/g)?.map(Number);\n\t\t\tif (values && values.length >= 3)\n\t\t\t\treturn { ...rgbToHsv(values[0], values[1], values[2]), a: values[3] ?? 1 };\n\t\t}\n\t\tif (str.startsWith('hsl')) {\n\t\t\tconst values = str.match(/[\\d.]+/g)?.map(Number);\n\t\t\tif (values && values.length >= 3) {\n\t\t\t\tconst sNorm = values[1] / 100,\n\t\t\t\t\tlNorm = values[2] / 100;\n\t\t\t\tlet vNorm = lNorm + sNorm * Math.min(lNorm, 1 - lNorm);\n\t\t\t\tlet sHsv = vNorm === 0 ? 0 : 2 * (1 - lNorm / vNorm);\n\t\t\t\treturn { h: values[0], s: sHsv * 100, v: vNorm * 100, a: values[3] ?? 1 };\n\t\t\t}\n\t\t}\n\t\tif (str.startsWith('oklch')) {\n\t\t\tconst values = str\n\t\t\t\t.match(/[\\d.%]+/g)\n\t\t\t\t?.map((s) => (s.includes('%') ? parseFloat(s) / 100 : parseFloat(s)));\n\t\t\tif (values && values.length >= 3) {\n\t\t\t\tconst rgb = oklchToRgb(values[0], values[1], values[2]);\n\t\t\t\treturn { ...rgbToHsv(rgb.r, rgb.g, rgb.b), a: values[3] ?? 1 };\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction formatOutput(h: number, s: number, v: number, a: number, format: ColorFormat): string {\n\t\tif (format === 'hex') return hsvToHex(h, s, v, a);\n\t\tif (format === 'rgb') return hsvToRgbString(h, s, v, a);\n\t\tif (format === 'hsl') return hsvToHslString(h, s, v, a);\n\t\tif (format === 'oklch') return hsvToOklchString(h, s, v, a);\n\t\treturn '';\n\t}\n\n\tfunction rgbToHsv(r: number, g: number, b: number) {\n\t\tr /= 255;\n\t\tg /= 255;\n\t\tb /= 255;\n\t\tconst max = Math.max(r, g, b),\n\t\t\tmin = Math.min(r, g, b);\n\t\tlet h = 0,\n\t\t\ts = 0,\n\t\t\tv = max;\n\t\tconst d = max - min;\n\t\ts = max === 0 ? 0 : d / max;\n\t\tif (max !== min) {\n\t\t\tswitch (max) {\n\t\t\t\tcase r:\n\t\t\t\t\th = (g - b) / d + (g < b ? 6 : 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase g:\n\t\t\t\t\th = (b - r) / d + 2;\n\t\t\t\t\tbreak;\n\t\t\t\tcase b:\n\t\t\t\t\th = (r - g) / d + 4;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\th /= 6;\n\t\t}\n\t\treturn { h: h * 360, s: s * 100, v: v * 100 };\n\t}\n\n\tfunction hsvToRgb(h: number, s: number, v: number) {\n\t\tlet sNorm = s / 100,\n\t\t\tvNorm = v / 100;\n\t\tlet r = 0,\n\t\t\tg = 0,\n\t\t\tb = 0;\n\t\tconst i = Math.floor(h / 60),\n\t\t\tf = h / 60 - i,\n\t\t\tp = vNorm * (1 - sNorm),\n\t\t\tq = vNorm * (1 - f * sNorm),\n\t\t\tt = vNorm * (1 - (1 - f) * sNorm);\n\t\tswitch (i % 6) {\n\t\t\tcase 0:\n\t\t\t\tr = vNorm;\n\t\t\t\tg = t;\n\t\t\t\tb = p;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tr = q;\n\t\t\t\tg = vNorm;\n\t\t\t\tb = p;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tr = p;\n\t\t\t\tg = vNorm;\n\t\t\t\tb = t;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tr = p;\n\t\t\t\tg = q;\n\t\t\t\tb = vNorm;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tr = t;\n\t\t\t\tg = p;\n\t\t\t\tb = vNorm;\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tr = vNorm;\n\t\t\t\tg = p;\n\t\t\t\tb = q;\n\t\t\t\tbreak;\n\t\t}\n\t\treturn { r: Math.round(r * 255), g: Math.round(g * 255), b: Math.round(b * 255) };\n\t}\n\n\tfunction hsvToOklchString(h: number, s: number, v: number, a: number) {\n\t\tconst rgb = hsvToRgb(h, s, v);\n\t\tconst oklch = rgbToOklch(rgb.r, rgb.g, rgb.b);\n\t\tconst L = (oklch.l * 100).toFixed(1) + '%';\n\t\tconst C = oklch.c.toFixed(3);\n\t\tconst H = (oklch.h || 0).toFixed(1);\n\n\t\tif (allowOpacity && a < 1) return `oklch(${L} ${C} ${H} / ${parseFloat(a.toFixed(2))})`;\n\t\treturn `oklch(${L} ${C} ${H})`;\n\t}\n\n\tfunction rgbToOklch(r: number, g: number, b: number) {\n\t\tr /= 255;\n\t\tg /= 255;\n\t\tb /= 255;\n\t\tr = r > 0.04045 ? Math.pow((r + 0.055) / 1.055, 2.4) : r / 12.92;\n\t\tg = g > 0.04045 ? Math.pow((g + 0.055) / 1.055, 2.4) : g / 12.92;\n\t\tb = b > 0.04045 ? Math.pow((b + 0.055) / 1.055, 2.4) : b / 12.92;\n\n\t\tconst l = 0.4122214708 * r + 0.5363325363 * g + 0.0514459929 * b;\n\t\tconst m = 0.2119034982 * r + 0.6806995451 * g + 0.1073969566 * b;\n\t\tconst s = 0.0883024619 * r + 0.2817188376 * g + 0.6299787005 * b;\n\n\t\tconst l_ = Math.cbrt(l),\n\t\t\tm_ = Math.cbrt(m),\n\t\t\ts_ = Math.cbrt(s);\n\n\t\tconst L = 0.2104542553 * l_ + 0.793617785 * m_ - 0.0040720468 * s_;\n\t\tconst A = 1.9779984951 * l_ - 2.428592205 * m_ + 0.4505937099 * s_;\n\t\tconst B = 0.0259040371 * l_ + 0.7827717662 * m_ - 0.808675766 * s_;\n\n\t\tconst C = Math.sqrt(A * A + B * B);\n\t\tlet H = (Math.atan2(B, A) * 180) / Math.PI;\n\t\tif (H < 0) H += 360;\n\n\t\treturn { l: L, c: C, h: H };\n\t}\n\n\tfunction oklchToRgb(l: number, c: number, h: number) {\n\t\tconst hRad = h * (Math.PI / 180);\n\t\tconst A = c * Math.cos(hRad);\n\t\tconst B = c * Math.sin(hRad);\n\t\tconst L = l;\n\n\t\tconst l_ = L + 0.3963377774 * A + 0.2158037573 * B;\n\t\tconst m_ = L - 0.1055613458 * A - 0.0638541728 * B;\n\t\tconst s_ = L - 0.0894841775 * A - 1.291485548 * B;\n\n\t\tconst lLin = l_ * l_ * l_;\n\t\tconst mLin = m_ * m_ * m_;\n\t\tconst sLin = s_ * s_ * s_;\n\n\t\tlet r = +4.0767416621 * lLin - 3.3077115913 * mLin + 0.2309699292 * sLin;\n\t\tlet g = -1.2684380046 * lLin + 2.6097574011 * mLin - 0.3413193965 * sLin;\n\t\tlet b = -0.0041960863 * lLin - 0.7034186147 * mLin + 1.707614701 * sLin;\n\n\t\tr = r >= 0.0031308 ? 1.055 * Math.pow(r, 1.0 / 2.4) - 0.055 : 12.92 * r;\n\t\tg = g >= 0.0031308 ? 1.055 * Math.pow(g, 1.0 / 2.4) - 0.055 : 12.92 * g;\n\t\tb = b >= 0.0031308 ? 1.055 * Math.pow(b, 1.0 / 2.4) - 0.055 : 12.92 * b;\n\n\t\tr = Math.min(Math.max(0, r), 1) * 255;\n\t\tg = Math.min(Math.max(0, g), 1) * 255;\n\t\tb = Math.min(Math.max(0, b), 1) * 255;\n\t\treturn { r, g, b };\n\t}\n\n\tfunction hsvToHex(h: number, s: number, v: number, a: number) {\n\t\tconst { r, g, b } = hsvToRgb(h, s, v);\n\t\tconst toHex = (x: number) => {\n\t\t\tconst hex = x.toString(16);\n\t\t\treturn hex.length === 1 ? '0' + hex : hex;\n\t\t};\n\t\tlet hex = `#${toHex(r)}${toHex(g)}${toHex(b)}`;\n\t\tif (allowOpacity && a < 1) hex += toHex(Math.round(a * 255));\n\t\treturn hex.toUpperCase();\n\t}\n\n\tfunction hsvToRgbString(h: number, s: number, v: number, a: number) {\n\t\tconst { r, g, b } = hsvToRgb(h, s, v);\n\t\tif (allowOpacity && a < 1) return `rgba(${r}, ${g}, ${b}, ${parseFloat(a.toFixed(2))})`;\n\t\treturn `rgb(${r}, ${g}, ${b})`;\n\t}\n\n\tfunction hsvToHslString(h: number, s: number, v: number, a: number) {\n\t\tconst sNorm = s / 100,\n\t\t\tvNorm = v / 100;\n\t\tlet l = ((2 - sNorm) * vNorm) / 2;\n\t\tlet sHsl = l && l < 1 ? (sNorm * vNorm) / (l < 0.5 ? l * 2 : 2 - l * 2) : sNorm;\n\t\tif (allowOpacity && a < 1)\n\t\t\treturn `hsla(${Math.round(h)}, ${Math.round(sHsl * 100)}%, ${Math.round(l * 100)}%, ${parseFloat(a.toFixed(2))})`;\n\t\treturn `hsl(${Math.round(h)}, ${Math.round(sHsl * 100)}%, ${Math.round(l * 100)}%)`;\n\t}\n\n\tfunction handleDragStart(e: MouseEvent | TouchEvent, fn: (e: MouseEvent | TouchEvent) => void) {\n\t\tisDragging = true;\n\t\tfn(e);\n\t\tconst move = (e: MouseEvent | TouchEvent) => fn(e);\n\t\tconst stop = () => {\n\t\t\tisDragging = false;\n\t\t\twindow.removeEventListener('mousemove', move);\n\t\t\twindow.removeEventListener('touchmove', move);\n\t\t\twindow.removeEventListener('mouseup', stop);\n\t\t\twindow.removeEventListener('touchend', stop);\n\t\t};\n\t\twindow.addEventListener('mousemove', move);\n\t\twindow.addEventListener('touchmove', move);\n\t\twindow.addEventListener('mouseup', stop);\n\t\twindow.addEventListener('touchend', stop);\n\t}\n\n\tfunction handleSbChange(e: MouseEvent | TouchEvent) {\n\t\tif (!sbRef) return;\n\t\tconst rect = sbRef.getBoundingClientRect();\n\t\tconst clientX = 'touches' in e ? e.touches[0].clientX : e.clientX;\n\t\tconst clientY = 'touches' in e ? e.touches[0].clientY : e.clientY;\n\t\tconst x = Math.max(0, Math.min(1, (clientX - rect.left) / rect.width));\n\t\tconst y = Math.max(0, Math.min(1, (clientY - rect.top) / rect.height));\n\t\ts = x * 100;\n\t\tv = (1 - y) * 100;\n\t\tupdateExternal();\n\t}\n\n\tfunction handleHueChange(e: MouseEvent | TouchEvent) {\n\t\tif (!hueRef) return;\n\t\tconst rect = hueRef.getBoundingClientRect();\n\t\tconst clientX = 'touches' in e ? e.touches[0].clientX : e.clientX;\n\t\tconst x = Math.max(0, Math.min(1, (clientX - rect.left) / rect.width));\n\t\th = x * 360;\n\t\tupdateExternal();\n\t}\n\n\tfunction handleAlphaChange(e: MouseEvent | TouchEvent) {\n\t\tif (!alphaRef) return;\n\t\tconst rect = alphaRef.getBoundingClientRect();\n\t\tconst clientX = 'touches' in e ? e.touches[0].clientX : e.clientX;\n\t\tconst x = Math.max(0, Math.min(1, (clientX - rect.left) / rect.width));\n\t\ta = Math.round(x * 100) / 100;\n\t\tupdateExternal();\n\t}\n\n\tfunction handleAlphaInput(e: Event & { currentTarget: HTMLInputElement }) {\n\t\tlet val = parseInt(e.currentTarget.value);\n\t\tif (isNaN(val)) return;\n\t\tval = Math.max(0, Math.min(100, val));\n\t\ta = val / 100;\n\t\tupdateExternal();\n\t}\n</script>\n\n<div\n\tclass={cn('flex w-[350px] flex-col gap-3 p-3 border rounded-lg shadow-sm bg-popover', className)}\n>\n\t<div\n\t\tbind:this={sbRef}\n\t\tclass=\"relative h-56 w-full cursor-crosshair rounded-md shadow-sm overflow-hidden touch-none\"\n\t\tstyle:background-color={`hsl(${h}, 100%, 50%)`}\n\t\trole=\"slider\"\n\t\taria-label=\"Saturation and Brightness\"\n\t\taria-valuenow={s}\n\t\ttabindex=\"0\"\n\t\tonmousedown={(e) => handleDragStart(e, handleSbChange)}\n\t\tontouchstart={(e) => handleDragStart(e, handleSbChange)}\n\t>\n\t\t<div class=\"absolute inset-0 bg-gradient-to-r from-white to-transparent pointer-events-none\" />\n\t\t<div class=\"absolute inset-0 bg-gradient-to-t from-black to-transparent pointer-events-none\" />\n\t\t<div\n\t\t\tclass=\"absolute h-3 w-3 -translate-x-1/2 -translate-y-1/2 rounded-full border-2 border-white shadow-sm ring-1 ring-black/20 pointer-events-none\"\n\t\t\tstyle:left={`${s}%`}\n\t\t\tstyle:top={`${100 - v}%`}\n\t\t/>\n\t</div>\n\n\t<div class=\"flex gap-3 items-center\">\n\t\t<div\n\t\t\tclass=\"h-8 w-8 shrink-0 rounded-md border shadow-sm relative overflow-hidden mt-1 bg-[url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==')]\"\n\t\t>\n\t\t\t<div class=\"absolute inset-0\" style:background-color={hsvToHex(h, s, v, a)} />\n\t\t</div>\n\n\t\t<div class=\"flex flex-1 flex-col gap-3 justify-center\">\n\t\t\t<div\n\t\t\t\tbind:this={hueRef}\n\t\t\t\tclass=\"relative h-3 w-full cursor-pointer rounded-full shadow-sm ring-1 ring-black/5 touch-none\"\n\t\t\t\tstyle:background={'linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%)'}\n\t\t\t\trole=\"slider\"\n\t\t\t\taria-valuenow={h}\n\t\t\t\ttabindex=\"0\"\n\t\t\t\tonmousedown={(e) => handleDragStart(e, handleHueChange)}\n\t\t\t\tontouchstart={(e) => handleDragStart(e, handleHueChange)}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"absolute top-1/2 h-3 w-3 -translate-x-1/2 -translate-y-1/2 rounded-full bg-white pointer-events-none\"\n\t\t\t\t\tstyle:left={`${(h / 360) * 100}%`}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{#if allowOpacity}\n\t\t\t\t<div\n\t\t\t\t\tbind:this={alphaRef}\n\t\t\t\t\tclass=\"relative h-3 w-full cursor-pointer rounded-full shadow-sm ring-1 ring-black/5 touch-none bg-[url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==')]\"\n\t\t\t\t\trole=\"slider\"\n\t\t\t\t\taria-valuenow={a}\n\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\tonmousedown={(e) => handleDragStart(e, handleAlphaChange)}\n\t\t\t\t\tontouchstart={(e) => handleDragStart(e, handleAlphaChange)}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"absolute inset-0 rounded-full\"\n\t\t\t\t\t\tstyle:background={`linear-gradient(to right, transparent, ${hsvToHex(h, s, v, 1)})`}\n\t\t\t\t\t/>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"absolute top-1/2 h-3 w-3 -translate-x-1/2 -translate-y-1/2 rounded-full bg-white pointer-events-none\"\n\t\t\t\t\t\tstyle:left={`${a * 100}%`}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t</div>\n\n\t<ButtonGroup.Root class=\"w-full\">\n\t\t{#if formats.length > 1}\n\t\t\t<Popover.Root bind:open={formatOpen}>\n\t\t\t\t<Popover.Trigger>\n\t\t\t\t\t{#snippet child({ props })}\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tclass=\"max-w-[5rem] px-2 text-[10px] justify-between h-9\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{activeFormat.toUpperCase()}\n\t\t\t\t\t\t\t<ChevronDown class=\"h-3 w-3 opacity-50\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t{/snippet}\n\t\t\t\t</Popover.Trigger>\n\t\t\t\t<Popover.Content class=\"w-[4.5rem] p-0\" align=\"start\">\n\t\t\t\t\t<Command.Root>\n\t\t\t\t\t\t<Command.List>\n\t\t\t\t\t\t\t<Command.Group>\n\t\t\t\t\t\t\t\t{#each ['hex', 'rgb', 'hsl', 'oklch'] as fmt}\n\t\t\t\t\t\t\t\t\t<Command.Item\n\t\t\t\t\t\t\t\t\t\tvalue={fmt}\n\t\t\t\t\t\t\t\t\t\tonSelect={() => setFormat(fmt as ColorFormat)}\n\t\t\t\t\t\t\t\t\t\tclass=\"text-[10px] h-7 flex justify-center\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{fmt.toUpperCase()}\n\t\t\t\t\t\t\t\t\t</Command.Item>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</Command.Group>\n\t\t\t\t\t\t</Command.List>\n\t\t\t\t\t</Command.Root>\n\t\t\t\t</Popover.Content>\n\t\t\t</Popover.Root>\n\t\t{:else}\n\t\t\t<Button variant=\"outline\" class=\"max-w-[5rem] px-2 text-[10px] justify-between h-9\">\n\t\t\t\t{activeFormat.toUpperCase()}\n\t\t\t</Button>\n\t\t{/if}\n\t\t<Input\n\t\t\tclass=\"h-9 font-mono text-[10px] uppercase flex-1\"\n\t\t\t{value}\n\t\t\toninput={(e) => {\n\t\t\t\tconst parsed = parseColor(e.currentTarget.value);\n\t\t\t\tif (parsed) {\n\t\t\t\t\th = parsed.h;\n\t\t\t\t\ts = parsed.s;\n\t\t\t\t\tv = parsed.v;\n\t\t\t\t\ta = parsed.a;\n\t\t\t\t\tupdateExternal();\n\t\t\t\t}\n\t\t\t}}\n\t\t/>\n\n\t\t{#if allowOpacity}\n\t\t\t<Input\n\t\t\t\tclass=\"h-9 font-mono text-[10px] text-right max-w-[4.2rem]\"\n\t\t\t\tvalue={Math.round(a * 100) + '%'}\n\t\t\t\toninput={handleAlphaInput}\n\t\t\t\tmaxlength={3}\n\t\t\t/>\n\t\t{/if}\n\t</ButtonGroup.Root>\n</div>\n",
			"type": "registry:ui",
			"target": "color-picker/color-picker.svelte"
		},
		{
			"content": "import ColorPicker from \"./color-picker.svelte\";\n\nexport { ColorPicker as Root };",
			"type": "registry:ui",
			"target": "color-picker/index.ts"
		}
	]
}